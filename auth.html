<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlockPorter - –í—Ö–æ–¥ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- –ò–∫–æ–Ω–∫–∏ Font Awesome (–∫—Ä–∞—Å–∏–≤—ã–µ –∏–∫–æ–Ω–∫–∏) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
        import { 
            getAuth, 
            createUserWithEmailAndPassword, 
            signInWithEmailAndPassword,
            onAuthStateChanged
        } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDW9qARQxPZQOQPsehi3VkpG9dhHhnysO8",
            authDomain: "crosshain-swap.firebaseapp.com",
            projectId: "crosshain-swap",
            storageBucket: "crosshain-swap.firebasestorage.app",
            messagingSenderId: "686655052904",
            appId: "1:686655052904:web:70a0de0063d9ce82f7afdd"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // –ü—Ä–æ–≤–µ—Ä–∫–∞, –µ—Å–ª–∏ —É–∂–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω ‚Äî –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ dashboard
        onAuthStateChanged(auth, user => {
            if (user) {
                window.location.href = 'dashboard.html';
            }
        });

        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        document.getElementById('register-form')?.addEventListener('submit', e => {
            e.preventDefault();
            const email = e.target.email.value;
            const password = e.target.password.value;
            
            createUserWithEmailAndPassword(auth, email, password)
                .then(() => {
                    alert('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ BlockPorter üöÄ');
                    window.location.href = 'dashboard.html';
                })
                .catch(err => {
                    alert('–û—à–∏–±–∫–∞: ' + err.message);
                });
        });

        // –í—Ö–æ–¥
        document.getElementById('login-form')?.addEventListener('submit', e => {
            e.preventDefault();
            const email = e.target.email.value;
            const password = e.target.password.value;
            
            signInWithEmailAndPassword(auth, email, password)
                .then(() => {
                    alert('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ!');
                    window.location.href = 'dashboard.html';
                })
                .catch(err => {
                    alert('–û—à–∏–±–∫–∞: ' + err.message);
                });
        });
    </script>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ –∫–∞–∫ –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö -->
    <header>
        <div class="container">
            <h1><a href="index.html" style="color: var(--accent); text-decoration:none;">BlockPorter</a></h1>
        <nav>
            <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="dashboard.html">–û–±–º–µ–Ω</a>
            <a href="about.html">–û –ø—Ä–æ–µ–∫—Ç–µ</a>
            <span id="user-info"><a href="auth.html">–í–æ–π—Ç–∏ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a></span>
        </nav>
        </div>
    </header>

    <main class="container auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <i class="fas fa-exchange-alt auth-icon"></i>
                <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ BlockPorter</h2>
                <p>–ë—ã—Å—Ç—Ä—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫—Ä–æ—Å—Å—á–µ–π–Ω –æ–±–º–µ–Ω</p>
            </div>

            <!-- –ë–ª–æ–∫ –≤—ã–±–æ—Ä–∞: –í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
            <div class="auth-tabs">
                <button class="tab-btn active" data-tab="login">–í—Ö–æ–¥</button>
                <button class="tab-btn" data-tab="register">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            </div>

            <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
            <form id="login-form" class="auth-form active">
                <div class="input-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" placeholder="Email" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                </div>
                <button type="submit" class="btn auth-btn">–í–æ–π—Ç–∏</button>
            </form>

            <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
            <form id="register-form" class="auth-form">
                <div class="input-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" name="email" placeholder="Email" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" name="password" placeholder="–ü–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)" required minlength="6">
                </div>
                <button type="submit" class="btn auth-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            </form>

            <p class="auth-footer-text">
                –ò—Å–ø–æ–ª—å–∑—É—è BlockPorter, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å <a href="#">—É—Å–ª–æ–≤–∏—è–º–∏</a> –∏ <a href="#">–ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
            </p>
        </div>
    </main>

    <script>
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ –í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                // –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                // –ü–æ–∫–∞–∑ —Ñ–æ—Ä–º—ã
                const tab = btn.getAttribute('data-tab');
                document.querySelectorAll('.auth-form').forEach(form => {
                    form.classList.remove('active');
                    if (form.id === tab + '-form') {
                        form.classList.add('active');
                    }
                });
            });
        });
    </script>
</body>
</html>
